/*! petfinderAPI4everybody v4.2.2 | (c) 2017 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/petfinderAPI4everybody */
!(function(t,e){"function"==typeof define&&define.amd?define([],e(t)):"object"==typeof exports?module.exports=e(t):t.petfinderSort=e(t)})("undefined"!=typeof global?global:this.window||this.global,(function(t){"use strict";var e,n,o,r,c,i,l,s,a={},u="querySelector"in document&&"addEventListener"in t&&"classList"in document.createElement("_"),d="petfinderSortStates",f={initClass:"js-petfinder-sort",callback:function(){}},p=function(t,e,n){if("[object Object]"===Object.prototype.toString.call(t))for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(n,t[o],o,t);else for(var r=0,c=t.length;r<c;r++)e.call(n,t[r],r,t)},m=function(){var t={},e=!1,n=0,o=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(e=arguments[0],n++);for(var r=function(n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e&&"[object Object]"===Object.prototype.toString.call(n[o])?t[o]=m(!0,t[o],n[o]):t[o]=n[o])};n<o;n++){var c=arguments[n];r(c)}return t},g=function(t,e){for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),n=e.length;--n>=0&&e.item(n)!==this;);return n>-1});t&&t!==document;t=t.parentNode)if(t.matches(e))return t;return null},y=function(n){if(t.sessionStorage){var r=n.getAttribute("data-petfinder-sort-target");if(n.checked===!1)return o[r]="unchecked",sessionStorage.setItem(d,JSON.stringify(o)),void e.callback(n);delete o[r],sessionStorage.setItem(d,JSON.stringify(o)),e.callback(n)}},S=function(e){if(t.sessionStorage){var n=e.getAttribute("data-petfinder-sort-target");o&&o[n]&&"unchecked"===o[n]&&(e.checked=!1)}},h=function(){p(c,(function(t){S(t)})),p(i,(function(t){S(t)})),p(l,(function(t){S(t)}))},b=function(t,e){return e?(t.style.display="none",void(t.style.visibility="hidden")):(t.style.display="block",void(t.style.visibility="visible"))},v=function(t){var e=document.querySelectorAll(t.getAttribute("data-petfinder-sort-target"));return t.checked===!0?void p(e,(function(t){t.checked=!0,y(t)})):void p(e,(function(t){t.checked=!1,y(t)}))},k=function(){p(r,(function(t){return s?void b(t,!0):void b(t)})),p(c,(function(t){if(t.checked===!0){var e=document.querySelectorAll(t.getAttribute("data-petfinder-sort-target"));p(e,(function(t){b(t)}))}})),p(i,(function(t){if(t.checked===!1){var e=document.querySelectorAll(t.getAttribute("data-petfinder-sort-target"));p(e,(function(t){b(t,!0)}))}}))},A=function(){p(r,(function(t){b(t)})),p(c,(function(t){t.checked=!0})),p(i,(function(t){t.checked=!0})),p(l,(function(t){t.checked=!0}))},E=function(t){var e=t.target,n=g(e,"[data-petfinder-sort]");n&&(y(n),"toggle"===n.getAttribute("data-petfinder-sort")&&v(n),k())};return a.destroy=function(){e&&(document.documentElement.classList.remove(e.initClass),A(),document.removeEventListener("click",E,!1),o=null,e=null,n=null,r=null,c=null,i=null,l=null,s=null)},a.init=function(n){u&&(a.destroy(),e=m(!0,f,n||{}),r=document.querySelectorAll(".pf-pet"),c=document.querySelectorAll('[data-petfinder-sort="breeds"]'),i=document.querySelectorAll('[data-petfinder-sort="attributes"]'),l=document.querySelectorAll('[data-petfinder-sort="toggle"]'),s=0!==c.length,t.sessionStorage&&(o=sessionStorage.getItem(d)?JSON.parse(sessionStorage.getItem(d)):{}),o=t.sessionStorage?JSON.parse(sessionStorage.getItem(d))||{}:{},document.documentElement.classList.add(e.initClass),h(),k(),document.addEventListener("click",E,!1))},a}));